CXX=g++
LD=g++
CXXFLAGS=-O2 -g -Wall -D_VERBOSE_DBG=1 
# -fwhole-program
LDFLAGS=-larmadillo -lblas -llapack

all: analysis

test: test.o
	g++ test.cpp $(CXXFLAGS) -o test $(LDFLAGS)

Decomposition.o: Decomposition.cpp

DecompositionModifier.o: DecompositionModifier.cpp

Decompositions.o: Decompositions.cpp

DecompositionAnalyzer.o: DecompositionAnalyzer.cpp

ArrayElements.o: ArrayElements.cpp

Covariance.o: Covariance.cpp

analysis.o: analysis.cpp

analysis: analysis.o Covariance.o ArrayElements.o Decomposition.o Decompositions.o DecompositionAnalyzer.o DecompositionModifier.o

clean:
	rm -f *.o analysis
